

<canvas width="800px" height="600px" id="canvas"></canvas>

<script type="application/javascript">
var poly1=[ 5,5, 100,50, 50,100, 10,90 ];
var canvas=document.getElementById("canvas")
var ctx = canvas.getContext('2d');
//drawPoly(poly1, '#f00');
    var polyArray = [];
    polyArray.push({
        points: poly1,
        colour: '#f00'
    });
    
    
    for (var i = 0; i < randomIntFromInterval(10,20); i++) {
        addPoly();
    }
    
    
    
    init();
    function init() {
        drawLoop();
        setInterval(modify, 100);
    }
    
    function drawLoop() {
        canvas.width = canvas.width;
        for (i = 0; i < polyArray.length; i++) {
            drawPoly(polyArray[i].points, polyArray[i].colour);
            
        }
    }
    
    function modify() {
        var changeMode = randomIntFromInterval(0, 100);
        if (changeMode < 50){
            modifyPoly();
        }
        else if (changeMode < 75) {
            addPoly();
        }
        
        drawLoop();
    }
    
    function addPoly() {
        var pointCount = randomIntFromInterval(4, 5);
        var points = [];
        for (var j = 0; j < pointCount; j++) {
            points.push(randomIntFromInterval(0, canvas.width));
            points.push(randomIntFromInterval(0, canvas.height));
        }
        polyArray.push({
            points: points,
            colour: getRandomColor()
        });
    }
    
    function modifyPoly() {
        var polyIndex = randomIntFromInterval(0, polyArray.length - 1);
        var pointIndex = randomIntFromInterval(0, polyArray[polyIndex].points.length - 1);
        polyArray[polyIndex].points[pointIndex] += randomIntFromInterval(-10,10);
    }
    
    function drawPoly(poly, colour) {

        ctx.fillStyle = colour;

        ctx.beginPath();
        ctx.moveTo(poly[0], poly[1]);
        for( item=2 ; item < poly.length-1 ; item+=2 ){
            ctx.lineTo( poly[item] , poly[item+1] )
        }

        ctx.closePath();
        ctx.fill();
    }
    
    // from http://stackoverflow.com/questions/1484506/random-color-generator-in-javascript
    function getRandomColor() {
        var letters = '0123456789ABCDEF'.split('');
        var color = '#';
        for (var i = 0; i < 6; i++ ) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }
    
    // from http://stackoverflow.com/questions/4959975/generate-random-value-between-two-numbers-in-javascript
    function randomIntFromInterval(min,max)
    {
        return Math.floor(Math.random()*(max-min+1)+min);
    }
</script>